(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(8),s=n.n(c),i=(n(25),n(26),n(3)),r=n(5),d=n.n(r),o="company_0336d06ff0ec4b3b9306ddc288482663",l="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MzAxMzAwNjMsIm5iZiI6MTYzMDEzMDA2MywianRpIjoiZDk4MWU5NDctMmQxOC00YjA0LThiMmUtYmU5M2Y3Njk2YjFkIiwiaWRlbnRpdHkiOnsibmFtZSI6Ik1haGkgQ1NLIiwiZW1haWwiOiJnb29kQHRlc3QzLmNvbSIsInVzZXJfaWQiOiJ1c2VyXzQxYzFkNDg1NjRhODQzNWQ4MTU2NDM5OTZkOWEzODhmIiwiaWNvbiI6Imh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci9mZDE3ZDIwNjUwYzk5NTk0YWVmNmQxMjVhMjU5ODdlYT9kZWZhdWx0PWh0dHBzJTNBJTJGJTJGczMuc2xvb3ZpLmNvbSUyRmF2YXRhci1kZWZhdWx0LWljb24ucG5nIiwiYnlfZGVmYXVsdCI6Im91dHJlYWNoIn0sImZyZXNoIjpmYWxzZSwidHlwZSI6ImFjY2VzcyJ9.fDA9Ox6zhBfgDIV_Iz47r2cJF1p3ldHJILuaFlbemTc ",u="user_41c1d48564a8435d815643996d9a388f",m="http://www.gravatar.com/avatar/fd17d20650c99594aef6d125a25987ea?default=https%3A%2F%2Fs3.sloovi.com%2Favatar-default-icon.png",p=n(2),b=n.n(p),j=n(6),h=function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){var a,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={method:"GET",url:"https://stage.api.sloovi.com/task/lead_c1de2c7b9ab94cb9abad131b7294cd8b?company_id=".concat(o),headers:{Authorization:"Bearer "+l,Accept:"application/json","Content-Type":"application/json"}},t.next=4,d()(a);case 4:c=t.sent,s=[],c.data.results.forEach((function(e){s.push(e)})),s.sort((function(e,t){return new Date(e.task_date).getTime()+1e3*e.task_time-(new Date(t.task_date).getTime()+1e3*t.task_time)})),n({type:"allTasks",list:s}),void 0!==e&&e(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},v=new Date,f=Number(v.getDate()),k=Number(v.getMonth())+1;k<10&&(k="0"+k),f<10&&(f="0"+f);var y=v.getFullYear()+"-"+k+"-"+f;function g(e){var t=new Date(1e3*e),n=t.getUTCHours(),a=t.getUTCMinutes();return n.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")}var O=n(0);function x(){var e,t=Object(i.c)((function(e){return e.dropDown})),n=Object(i.c)((function(e){return e.defaultTaskValues})),c=Object(i.b)();e=""!==n.task_time?g(n.task_time):"",Object(a.useEffect)((function(){document.getElementById("description").value=n.task_msg,document.getElementById("date").value=n.task_date,document.getElementById("time").value=e,""!==n.assigned_user?document.getElementById("user").value=n.assigned_user:""===n.assigned_user&&t.length>0?(document.getElementById("user").value=t[0].id,document.getElementById("deleteTask").style.visibility="hidden"):document.getElementById("deleteTask").style.visibility="hidden"}),[n]);var s=function(){document.getElementById("addTasks").style.display="none",document.getElementById("allTasks").style.display="block",document.getElementById("description").value=n.task_msg,document.getElementById("date").value=n.task_date,document.getElementById("time").value=e,document.getElementById("user").value=document.getElementById("user").value};return Object(O.jsxs)("form",{id:"addTasks",onSubmit:function(e){e.preventDefault();var t,a,i,r=document.getElementById("description"),m=document.getElementById("date"),p=document.getElementById("time"),v=document.getElementById("user");if(""===m.value)return alert("Select Date"),void m.focus();if(""===p.value)return alert("Enter Time"),void p.focus();if(""===v.value)return alert("Assign user"),void v.focus();""===n.assigned_user?(t=p.value.split(":"),t=Number(3600*t[0])+Number(60*t[1]),a=Math.abs(60*(new Date).getTimezoneOffset())+t,i=0):p.value!==g(n.task_time)?(t=p.value.split(":"),t=Number(3600*t[0])+Number(60*t[1]),a=Math.abs(60*(new Date).getTimezoneOffset())+t,i=n.is_completed):(t=n.task_time,a=n.time_zone,i=n.is_completed);var f,k,y={assigned_user:u,task_date:m.value,task_time:t,is_completed:i,time_zone:a,task_msg:r.value};""===n.assigned_user?c((f=y,k=s,function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"POST",url:"https://stage.api.sloovi.com/task/lead_c1de2c7b9ab94cb9abad131b7294cd8b?company_id=".concat(o),headers:{Authorization:"Bearer "+l,Accept:"application/json","Content-Type":"application/json"},data:f},e.next=4,d()(n);case 4:t(h(k)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())):c(function(e,t,n){return function(){var a=Object(j.a)(b.a.mark((function a(c){var s;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s={method:"PUT",url:"https://stage.api.sloovi.com/task/lead_c1de2c7b9ab94cb9abad131b7294cd8b/".concat(e,"?company_id=").concat(o),headers:{Authorization:"Bearer "+l,Accept:"application/json","Content-Type":"application/json"},data:t},a.next=4,d()(s);case 4:c(h(n)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(n.id,y,s))},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"description",children:"Task Description"}),Object(O.jsx)("input",{type:"text",id:"description",required:!0,autoComplete:"off"})]}),Object(O.jsxs)("div",{className:"date_time",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"date",children:"Date"}),Object(O.jsx)("input",{type:"date",id:"date",min:y})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"time",children:"Time"}),Object(O.jsx)("input",{type:"time",id:"time"})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"user",children:"Assign User"}),Object(O.jsx)("select",{id:"user",children:t.map((function(e,t){return Object(O.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsx)("button",{type:"button",id:"deleteTask",onClick:function(){var e,t;window.confirm("Are you sure to delete the task?")&&c((e=n.id,t=s,function(){var n=Object(j.a)(b.a.mark((function n(a){var c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c={method:"DELETE",url:"https://stage.api.sloovi.com/task/lead_c1de2c7b9ab94cb9abad131b7294cd8b/".concat(e,"?company_id=").concat(o),headers:{Authorization:"Bearer "+l,Accept:"application/json","Content-Type":"application/json"}},n.next=4,d()(c);case 4:a(h(t)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()))},children:"\ud83d\uddd1"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{type:"button",onClick:s,children:"Cancel"}),Object(O.jsx)("button",{type:"submit",children:"Save"})]})]})]})}n(51);function T(e){var t=Object(i.c)((function(e){return e.allTask})),n=Object(i.b)();return Object(O.jsx)("div",{id:"allTasks",children:t.map((function(e,a){return Object(O.jsxs)("div",{className:"taskDetails",children:[Object(O.jsx)("img",{src:m,alt:"user_dp"}),Object(O.jsxs)("div",{className:"date_description",children:[Object(O.jsx)("div",{children:e.task_msg}),Object(O.jsx)("div",{children:e.task_date})]}),Object(O.jsxs)("div",{onClick:function(){return function(e){document.getElementById("addTasks").style.display="block",document.getElementById("allTasks").style.display="none",document.getElementById("deleteTask").style.visibility="visible",n({type:"updateDefaultValues",updatedvalues:t[e]})}(a)},children:["\ud83d\udd89",Object(O.jsx)("div",{className:"editTaskToolTip",children:"Edit Task"})]})]},a)}))})}n(52);function I(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.allTask}));return Object(O.jsxs)("div",{id:"taskSection",children:[Object(O.jsxs)("div",{className:"taskHeader",children:[Object(O.jsxs)("div",{children:["TASKS - ",t.length]}),Object(O.jsxs)("div",{onClick:function(){document.getElementById("addTasks").style.display="block",document.getElementById("allTasks").style.display="none",e({type:"setToDefaultValues"})},children:["+",Object(O.jsx)("div",{className:"toolTip addTaskToolTip",children:"AddTask"})]})]}),Object(O.jsx)(T,{}),Object(O.jsx)(x,{})]})}var _=function(){var e=Object(i.b)();return e(function(){var e=Object(j.a)(b.a.mark((function e(t){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",url:"https://stage.api.sloovi.com/team?company_id=".concat(o,"&product=outreach"),headers:{Authorization:"Bearer "+l,Accept:"application/json","Content-Type":"application/json"}},e.next=4,d()(n);case 4:a=e.sent,c=[],a.data.results.data.forEach((function(e){"accepted"===e.user_status&&c.push({name:e.name,id:e.user_id})})),t({type:"updateDropDown",list:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),e(h()),Object(O.jsxs)("div",{id:"homePage",children:[Object(O.jsx)("div",{className:"sideBar"}),Object(O.jsxs)("div",{className:"mainSection",children:[Object(O.jsx)("div",{className:"topBar"}),Object(O.jsx)(I,{})]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},E=n(7),D={assigned_user:"",task_date:"",task_time:"",time_zone:"",task_msg:""},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateDefaultValues":return t.updatedvalues;case"setToDefaultValues":return D;default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateDropDown":return t.list;default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"allTasks":return t.list;default:return e}},A=Object(E.b)({defaultTaskValues:B,dropDown:N,allTask:z}),F=n(20),J=Object(E.c)(A,Object(E.a)(F.a));s.a.render(Object(O.jsx)(i.a,{store:J,children:Object(O.jsx)(_,{})}),document.getElementById("root")),w()}},[[53,1,2]]]);
//# sourceMappingURL=main.a2651465.chunk.js.map